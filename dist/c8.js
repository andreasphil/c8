function u(n){return n}var l=(n,...t)=>String.raw({raw:n},...t),d=l;function h(n){let t=document.createElement("template");return t.innerHTML=n,t.content.cloneNode(!0)}var c=class extends HTMLElement{static tag="";static attrs={};static events=[];static define(t=this.tag){if(!t)throw new Error("Custom element must specify a tag name");customElements.define(t,this)}static get observedAttributes(){return Object.keys(this.attrs)}get template(){throw new Error("Custom element must specify a template")}attrs;get#t(){return this.shadowRoot??this}constructor(){super();try{this.attachShadow({mode:"open"})}catch{}}connectedCallback(){this.#e(),this.#s(),this.#r()}ref(t){let e=this.maybeRef(t);if(!e)throw new Error(`Ref with name ${String(t)} was not found`);return e}maybeRef(t){return this.#t.querySelector(`[data-ref="${String(t)}"]`)??void 0}refs(){let t={};return this.#t.querySelectorAll("[data-ref]").forEach(e=>{e instanceof HTMLElement&&e.dataset.ref&&(t[e.dataset.ref]=e)}),t}emit(t,e){let r=new CustomEvent(String(t),{bubbles:!0,cancelable:!0,composed:!0,detail:e});this.dispatchEvent(r)}#e(){if(this.template.startsWith("#")){let t=document.querySelector(this.template);if(!(t instanceof HTMLTemplateElement))throw new Error(`${this.template} is not a template element`);this.#t.appendChild(t.content.cloneNode(!0))}else{let t=h(this.template);this.#t.appendChild(t)}}#r(){let{events:t}=this.constructor;t.forEach(e=>{this.#t.addEventListener(e,r=>{if(!(r.target instanceof HTMLElement))return;let a=r.target,i=`on:${r.type}`,s=`[data-${i.replace(":","\\:")}]`,o=a.dataset[i];!o&&(a=a.closest(s))&&(o=a.dataset[i]),this[o]?.(r)})})}#s(){let{attrs:t}=this.constructor;this.attrs??={},Object.entries(t).forEach(([e,r])=>{let a=r.stringify??(s=>s?.toString()??""),i=r.parse??(s=>s);Object.defineProperty(this.attrs,e,{get:()=>i(this.getAttribute(e)),set:s=>this.setAttribute(e,a(s))}),r.default&&!this.getAttribute(e)&&this.setAttribute(e,r.default())})}};export{c as C8,u as defineAttr,d as html,h as renderTemplate};
//# sourceMappingURL=c8.js.map
