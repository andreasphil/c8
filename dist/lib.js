function l(i){return i}var c=(i,...t)=>String.raw({raw:i},...t),u=c,d=c,o=class extends HTMLElement{static tag="";static attrs={};static events=[];static define(t=this.tag){if(!t)throw new Error("Custom element must specify a tag name");customElements.define(t,this)}static get observedAttributes(){return Object.keys(this.attrs)}get styles(){}get template(){throw new Error("Custom element must specify a template")}attrs;get#t(){return this.shadowRoot??this}constructor(){super();try{this.attachShadow({mode:"open"})}catch{}this.#e(),this.#s(),this.#n(),this.#r()}ref(t){let e=this.maybeRef(t);if(!e)throw new Error(`Ref with name ${String(t)} was not found`);return e}maybeRef(t){return this.#t.querySelector(`[data-ref="${String(t)}"]`)??void 0}refs(){let t={};return this.#t.querySelectorAll("[data-ref]").forEach(e=>{e instanceof HTMLElement&&e.dataset.ref&&(t[e.dataset.ref]=e)}),t}emit(t,e){let s=new CustomEvent(String(t),{bubbles:!0,cancelable:!0,composed:!0,detail:e});this.dispatchEvent(s)}#e(){let t;if(this.template.startsWith("#")){if(t=document.querySelector(this.template),!(t instanceof HTMLTemplateElement))throw new Error(`${this.template} is not a template element`)}else t=document.createElement("template"),t.innerHTML=this.template;this.#t.appendChild(t.content.cloneNode(!0))}#s(){if(!this.styles)return;if(!(this.#t instanceof ShadowRoot))throw new Error('CSS is not supported when "shadow" is disabled');let t=new CSSStyleSheet;t.replaceSync(this.styles),this.#t.adoptedStyleSheets.push(t)}#r(){let{events:t}=this.constructor;t.forEach(e=>{this.#t.addEventListener(e,s=>{if(!(s.target instanceof HTMLElement))return;let n=s.target,a=`on:${s.type}`,r=n.dataset[a],h=`[data-${a.replace(":","\\:")}]`;r?this[r]?.(s):(n=n.closest(h))&&n.dispatchEvent(new Event(s.type,s))})})}#n(){let{attrs:t}=this.constructor;this.attrs??={},Object.entries(t).forEach(([e,s])=>{let n=s.stringify??(r=>r?.toString()??""),a=s.parse??(r=>r);Object.defineProperty(this.attrs,e,{get:()=>a(this.getAttribute(e)),set:r=>this.setAttribute(e,n(r))}),s.default&&!this.getAttribute(e)&&this.setAttribute(e,s.default())})}};export{o as C8,d as css,l as defineAttr,u as html};
//# sourceMappingURL=lib.js.map
